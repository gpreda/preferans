<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preferans</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <header>
            <h1 data-i18n="title">Preferans</h1>
            <button id="new-game-btn" data-i18n="newGame">New Game</button>
            <span id="phase-indicator"></span>
            <span id="status"></span>
            <select id="language-selector" class="lang-selector">
                <option value="en">EN</option>
                <option value="sr">SR</option>
            </select>
        </header>

        <div class="table">
            <!-- Player 1: Left side, vertical -->
            <div class="player player-left" id="player1">
                <div class="player-info">
                    <span class="player-name" data-i18n="player1">Player 1</span>
                    <span class="player-score"><span data-i18n="score">Score</span>: <span class="score-value">0</span></span>
                    <span class="player-tricks"><span data-i18n="tricks">Tricks</span>: <span class="tricks-value">0</span></span>
                    <span class="player-role"></span>
                </div>
                <div class="player-cards"></div>
            </div>

            <!-- Player 2: Right side, vertical -->
            <div class="player player-right" id="player2">
                <div class="player-info">
                    <span class="player-name" data-i18n="player2">Player 2</span>
                    <span class="player-score"><span data-i18n="score">Score</span>: <span class="score-value">0</span></span>
                    <span class="player-tricks"><span data-i18n="tricks">Tricks</span>: <span class="tricks-value">0</span></span>
                    <span class="player-role"></span>
                </div>
                <div class="player-cards"></div>
            </div>

            <!-- Center area: Talon + Current Trick -->
            <div class="center-area">
                <!-- Talon -->
                <div class="talon" id="talon">
                    <div class="talon-label" data-i18n="talon">Talon</div>
                    <div class="talon-cards"></div>
                </div>

                <!-- Current Trick -->
                <div class="current-trick" id="current-trick">
                    <div class="trick-cards"></div>
                </div>

                <!-- Contract Info -->
                <div class="contract-info" id="contract-info"></div>
            </div>

            <!-- Player 3: Bottom, horizontal -->
            <div class="player player-bottom" id="player3">
                <div class="player-info">
                    <span class="player-name" data-i18n="player3">Player 3</span>
                    <span class="player-score"><span data-i18n="score">Score</span>: <span class="score-value">0</span></span>
                    <span class="player-tricks"><span data-i18n="tricks">Tricks</span>: <span class="tricks-value">0</span></span>
                    <span class="player-role"></span>
                </div>
                <div class="player-cards"></div>
            </div>
        </div>

        <!-- Action Panel - shows context-sensitive controls -->
        <div class="action-panel" id="action-panel">
            <!-- Bidding UI -->
            <div class="bidding-controls hidden" id="bidding-controls">
                <span class="action-label"><span data-i18n="bidding">Bidding</span>:</span>
                <div class="bid-buttons" id="bid-buttons">
                    <!-- Buttons will be dynamically generated based on legal bids -->
                </div>
            </div>

            <!-- Exchange UI -->
            <div class="exchange-controls hidden" id="exchange-controls">
                <button id="pickup-talon-btn" data-i18n="pickUpTalon">Pick Up Talon</button>
                <span class="action-label" data-i18n="selectCardsToDiscard">Select 2 cards to discard, then:</span>
                <button id="discard-btn" disabled data-i18n="discardSelected">Discard Selected</button>
            </div>

            <!-- Contract UI -->
            <div class="contract-controls hidden" id="contract-controls">
                <span class="action-label"><span data-i18n="announceContract">Announce Contract</span>:</span>
                <select id="contract-type">
                    <option value="suit" data-i18n="suit">Suit</option>
                    <option value="betl" data-i18n="betl">Betl</option>
                    <option value="sans" data-i18n="sans">Sans</option>
                </select>
                <select id="trump-suit">
                    <option value="spades" data-i18n="suits.spades">Spades</option>
                    <option value="hearts" data-i18n="suits.hearts">Hearts</option>
                    <option value="diamonds" data-i18n="suits.diamonds">Diamonds</option>
                    <option value="clubs" data-i18n="suits.clubs">Clubs</option>
                </select>
                <button id="announce-btn" data-i18n="announce">Announce</button>
            </div>

            <!-- Play instructions -->
            <div class="play-controls hidden" id="play-controls">
                <span class="action-label" data-i18n="clickCardToPlay">Click a card to play it</span>
            </div>

            <!-- Scoring UI -->
            <div class="scoring-controls hidden" id="scoring-controls">
                <span class="action-label" id="round-result"></span>
                <button id="next-round-btn" data-i18n="nextRound">Next Round</button>
            </div>
        </div>

        <!-- Message area -->
        <div class="message-area" id="message-area"></div>
    </div>
    <script src="i18n.js"></script>
    <script src="app.js"></script>
</body>
</html>
